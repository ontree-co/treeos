# Woodpecker CI Configuration
# Copy this file to .env and fill in your values

# General Configuration
# The public URL of your Woodpecker instance (e.g., https://ci.yourdomain.com)
WOODPECKER_HOST=http://localhost:8000

# Admin username (Codeberg username of the admin)
WOODPECKER_ADMIN=your-codeberg-username

# Allow user registration (true/false)
WOODPECKER_OPEN=false

# Forgejo/Codeberg OAuth Configuration
# To create an OAuth app on Codeberg:
# 1. Go to https://codeberg.org/user/settings/applications
# 2. Create a new OAuth2 application
# 3. Set redirect URL to: ${WOODPECKER_HOST}/authorize
# 4. Copy the Client ID and Client Secret below
WOODPECKER_FORGEJO=true
WOODPECKER_FORGEJO_URL=https://codeberg.org
WOODPECKER_FORGEJO_CLIENT=your-oauth-client-id
WOODPECKER_FORGEJO_SECRET=your-oauth-client-secret

# Security - IMPORTANT: Generate with: openssl rand -hex 32
WOODPECKER_AGENT_SECRET=CHANGE_THIS_TO_RANDOM_32_HEX_STRING

# Agent Configuration
# Maximum number of parallel workflows per agent
WOODPECKER_MAX_WORKFLOWS=2

# Logging level (debug, info, warn, error)
WOODPECKER_LOG_LEVEL=info

# Docker network for pipeline containers
WOODPECKER_BACKEND_DOCKER_NETWORK=woodpecker

# Database Configuration (optional - uses SQLite by default)
# Uncomment for PostgreSQL:
# WOODPECKER_DATABASE_DRIVER=postgres
# WOODPECKER_DB_PASSWORD=secure-database-password